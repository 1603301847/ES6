<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /**
         * Promise.any()方法的参数数组包含三个 Promise 操作。
         * 其中只要有一个变成fulfilled，Promise.any()返回的 Promise对象就变成fulfilled。
         * 如果所有三个操作都变成rejected，那么await命令就会抛出错误。
        */
        const promises = [
            fetch('/endpoint-a').then(() => 'a'),
            fetch('/endpoint-b').then(() => 'b'),
            fetch('/endpoint-c').then(() => 'c'),
        ];
        try {
            const first = await Promise.any(promises);
            console.log(first); // Uncaught SyntaxError: await is only valid in async function
        } catch (error) {
            console.log(error);
        }
    </script>
</body>

</html>